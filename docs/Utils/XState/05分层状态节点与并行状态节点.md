## 分层状态节点

当进入复合状态时，它的初始状态也立即进入

红绿灯状态机：
已进入'red'
由于 'red' 的初始状态为 'walk'，因此最终进入 { red: 'walk' } 状态

处理事件时，当前最深层子状态不处理 event 时，该 event 将传播到其要处理的父状态
如果状态或其任何祖先（父）状态均未处理事件，则不会发生转换。 在 strict 模式下（在 状态机配置 中指定），这将引发错误。

## 并行状态节点

通过设置 type: 'parallel' 在状态机和/或任何嵌套复合状态上指定并行状态节点
设置在哪里，它的 states 节点下的状态都会并行

并行状态节点的状态值表示为一个对象。 此对象状态值可用于进一步转换到并行状态节点中的不同状态：

```ts
console.log(
  fileMachine.transition(
    {
      upload: 'pending',
      download: 'idle',
    },
    { type: 'UPLOAD_COMPLETE' }
  ).value
)
// => {
//   upload: 'success',
//   download: 'idle'
// }
```

## 最终状态

状态的 type 属性设置为 'final'
在复合状态中，到达最终子状态节点，将在内部引发该复合状态节点的 done(...) 事件，可以用 onDone 监听
当并行状态节点中的每个子状态节点都 完成 时，父并行状态节点也 完成。 当到达每个子复合节点中的每个最终状态节点时，将为并行状态节点引发 done(...) 事件，可以用 onDone 监听
onDone 定义在每个子状态下可以接受下一个要达到的状态（可能是字符串写法）

不能在状态机的根节点上定义 onDone 转换。 这是因为 onDone 是对 'done.state.\*' 事件的转换，当状态机达到最终状态时，它不能再接受任何事件<!-- TODO -->

最终状态节点仅指示其直接父节点已 完成。 它不会影响任何更高父节点的 完成 状态，除非在其所有子复合状态节点完成时

到达最终子状态的并行状态在其所有同级完成之前不会停止接收事件。 最后的子状态仍然可以通过事件退出

最终状态节点不能有任何子节点。 它们是原子状态节点
