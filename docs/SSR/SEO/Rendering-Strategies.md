# Rendering Strategies

## 客户端渲染 (CSR)

适合数据密集的管理平台、个人帐户页面或任何不需要 SEO 的页面
适合首屏加载速度和 SEO 不重要的应用

## Server-Side Rendering (SSR)

与客户端的单页应用 (SPA) 相比, SSR 的优势主要在于 :

更快的首屏加载 :

1. 带来更高的 Core Web Vitals、更好的用户体验
2. 这一点在慢网速或运行缓慢的设备上尤为重要
3. 对于一些首屏加载速度与转化率直接相关的应用, 这点至关重要
4. 数据的获取过程在首次访问时在服务端完成, 相比在客户端完成, 可能有更快的数据库连接

更好的 SEO

1. 更高的 Core Web Vitals 可以带来排名提升
2. 搜索引擎爬虫可以直接看到完全渲染的页面, 以及每个页面独有的 SEO 标签

缺点是

1. 开发的限制更多, 因为浏览器某些特定代码只能在某些生命周期钩子中使用, 尤其是一些库必须要经过特殊处理才能在服务端渲染的应用中运行
2. 更多的与构建配置和部署相关的要求, 不像 CSR 可以部署在任意静态的文件服务器上,
3. 更高的服务端符合, 需要占用服务器的 CPU 资源, 采用合理的缓存策略和负载均衡来应对高流量的压力

## Static Site Generation (SSG)

SSG 带来了优秀的首屏加载性能。同时, 它比 SSR 应用的花销更小, 也更容易部署, 因为它输出的是静态 HTML 和资源文件
SSG 非常适合构建基于内容的网站, 比如文档站点或博客, 非常适合只是为了优化营销页面只有几个的 SEO

缺点是静态生成的部分要求数据在构建时就是已知的, 每当数据变化就需要重新构建和部署

VitePress 是一个基于 vue3 和 vite 的静态站点生成工具, 将 md 文档生成为静态的 html 文件, 并可以方便部署到任何地方
不同于传统 SSG 方案, VitePress 会在初始访问任意页面时提供预渲染的 HTML 文档, 然后会加载 JS bundle 进行水合, 将这个页面转换为 vue SPA 应用,后续的页面导航不再导致整个页面重新加载, 以带来更好的用户体验, 同时也提供了自动为视口中出现的链接预加载的功能。
vue 提供了很好的编译优化, 编译时会分离静态内容与动态内容, 从而最大限度降低水合成本和负载大小。对于初次加载, 静态部分会自动从 JS 负载中删除, 并在水合过程中跳过

## Incremental Static Regeneration (ISR)

## vue 的同构渲染

SSR (服务端渲染 ) 和 CSR (客户端渲染 ) 各有优劣, vue 就将这俩者的优点融为一体, 称为同构渲染, 因为应用的大部分代码同时运行在服务端和客户端。
同构渲染分为首次渲染和非首次渲染两者渲染方式。
即在首次进入页面/刷新的时候使用 ssr 的方式渲染页面, 提升首屏加载速度和提供友好的 SEO；
接着使用 hydration 激活已经渲染的静态页面, 激活完成后, 整个应用就成为 CSR 应用了, 对于用户来说能够拥有更好的交互体验
