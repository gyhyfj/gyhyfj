# 路由模式

vue3-route4 的路由模式是 createWebHistory createWebHashHistory createMemoryHistory 三个函数

## hash 实现

hash 是 url 中#及后面的部分，通常作为锚点在页面内导航，改变 url 的 hash 部分不会引起页面刷新

通过 hashchange 事件监听 url 的变化

```js
window.addEventListener('hashchange', e => {
  console.log(e)
})

location.hash = '/login' // /#/reg
```

## history 实现

pushState repalceState 这两个方法改变 url 的 path 地址不会引起页面刷新
history 提供类似 hashchage 事件的 popstate 事件
但是通过 pushState、repalceState 或 a 标签改变 url 不会触发 popstate 事件
好在可以拦截 pushState、repalceState 调用和 a 标签的电机事件来检测 url 变化

```js
window.addEventListener('popstate', e => {
  console.log(e)
})

history.pushState({}, '', '/login')
```
