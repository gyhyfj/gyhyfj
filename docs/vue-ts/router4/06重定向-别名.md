# 重定向、别名

## 重定向 redirect

三种书写形式：
字符串路径形式 对象形式 回调函数形式

```ts
const routes: Array<RouteRecordRaw> = [
  {
    path: '/',
    component: () => import('../components/root.vue'),
    // redirect: '/a', // 1. 字符串形式
    // redirect:{
    //   path:'/a' // 2. 对象形式，可以用path，也可以用name
    // }
    redirect: to=>{ // 3. 回调函数形式，可以传参
      // return '/a'  // 直接返回字符串路径
      return {
        path: '/a' ,
        query: to.query
      }
    }
    children: [
      {
        path: '/a',
        component: () => import('../components/A.vue'),
      },
    ],
  },
]
```

注意：
导航守卫不会应用在跳转路由上，而仅仅应用在其重定向的目标上

相对重定向：

```ts
const routes: Array<RouteRecordRaw> = [
  {
    // 将总是把/users/123/posts重定向到/users/123/profile。
    path: '/users/:id/posts',
    redirect: to => {
      // 该函数接收目标路由作为参数
      // 相对位置不以`/`开头
      // 或 { path: 'profile'}
      return 'profile'
    },
  },
]
```

## 别名 alias

重定向是指当用户访问 `/home` 时，URL 会被 `/` 替换，然后匹配成 `/`
将 `/` 别名为 `/home`，意味着当用户访问 `/home` 时，URL 仍然是 `/home`，但会被匹配为用户正在访问 `/`。

通过别名，你可以自由地将 UI 结构映射到一个任意的 URL，而不受配置的嵌套结构的限制，
可以让别名以 `/` 开头，以使嵌套路径中的路径成为绝对路径

```ts
const routes: Array<RouteRecordRaw> = [
  { path: '/', component: Homepage, alias: '/home' },
]
```

```ts
const routes: Array<RouteRecordRaw> = [
  {
    path: '/users',
    component: UsersLayout,
    children: [
      // 为这 3 个 URL 呈现 UserList
      // - /users
      // - /users/list
      // - /people
      { path: '', component: UserList, alias: ['/people', 'list'] },
    ],
  },
]
```

如果路由有参数，那么需要确保在任何绝对别名中包含它们

```ts
const routes: Array<RouteRecordRaw> = [
  {
    path: '/users/:id',
    component: UsersByIdLayout,
    children: [
      // 为这 3 个 URL 呈现 UserDetails
      // - /users/24/profile
      // - /users/24
      // - /24
      { path: 'profile', component: UserDetails, alias: ['/:id', ''] },
    ],
  },
]
```
