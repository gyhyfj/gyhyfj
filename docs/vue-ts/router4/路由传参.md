# 路由传参

## query 传参方式

跳转后的 url 中就会自带`?a=1&b=2`这样的参数

跳转前所处的组件：

```ts
// 事件绑定的处理函数
router.push({
  path: '/reg',
  query: {}, // 接受一个对象
})
```

跳转后的目标组件：

```ts
import { useRoute } from 'vue-router'
const route = useRoute()
```

通过`route.query.keyname`来取用

::: danger DIFF
import { useRouter } from 'vue-router'
const router = useRouter()
Returns the router instance. Equivalent to using $router inside templates.

import { useRoute } from 'vue-router'
const route = useRoute()
Returns the current route location. Equivalent to using $route inside templates.
:::

## params 传参方式

params 传参方式必须使用 name 跳转，而非 path
参数不会展示在 url 上，而是存在内存里

跳转前所处的组件：

```ts
// 事件绑定的处理函数
router.push({
  name: 'reg',
  params: {}, // 接受一个对象
})
```

跳转后的目标组件：

```ts
import { useRoute } from 'vue-router'
const route = useRoute()
```

通过`route.params.keyname`来取用

**但是**，因为是所传参数是存在内存里的，所以跳转后页面一刷新，传递的值会丢失
为了解决这个问题，可以使用动态路由参数

## 动态路由参数方式传参

在 router/index.ts 中的 routes 项，path 后面用冒号加名称的写法

```ts
path: 'reg/:id'
```

在跳转前所处的组件：

```ts
// 事件绑定的处理函数
router.push({
  name: 'reg',
  params: {
    id: 1,
  },
})
```

跳转后的目标组件：
地址会成为`/reg/1`，对应了注册路由时的`path:'reg/:id'`

```ts
import { useRoute } from 'vue-router'
const route = useRoute()
```

通过`route.params.keyname`来取用，刷新页面不会丢失传来的数据
