# 实践记录

## 布局

要考虑的因素：

是否有目标显示器
小屏幕与大屏幕的适配、视口不同比例的匹配（比如全屏与非全屏的切换）

解决方案：

1. vw % flex calc
2. 添加必要的`overflow: hiden;`
3. 写死一部分尺寸，剩下一块响应式用`calc(100%-5vw)`这样
4. 多用 padding 少用 margin，因为不一定是 bfc，因为`box-sizing: border-box`下设置`h100+w100`后，追加 margin 是不计入原尺寸的，盒子整体尺寸会扩大
5. `flex: 1`下面再设个`flex: 1`，前面的`flex: 1`要设置宽高，比如`height: 0`

## 样式&属性透穿

1. 善用熟悉选择器
2. `:deep()`直接用不生效， 是因为组件没被`div`包裹 要父组件选择器后面再跟`:deep()`
3. 尽量避免“透传 attribute”
4. 子组件的根元素会被打上两个`data-v-xx`，一个是自己的一个是父组件的，所以父组件的样式（比如同名 class）会作用并覆盖子组件，不遵守样式隔离。解决办法：子组件根元素取父组件中不存在的类名，或根元素外面再包裹一层`div`

:::tip

1. 属性透穿指的是传递给一个组件，却没有被该组件声明为 props 或 emits 的 attribute 或者 v-on 事件监听器。最常见的例子就是 class、style 和 id。
2. 当一个组件以单个元素为根作渲染时，透传的 attribute 会自动被添加到根元素上。如果一个子组件的根元素已经有了 class 或 style attribute，它会和从父组件上继承的值合并。
3. 如果组件里面没有根节点，vue 将不会自动 attribute 透传行为，并且里面将会抛出一个警告。

:::

## 引入图片

1. 引入与 src 平级的 public 目录下的文件要`/image`开头，如`<img src="/image/bg.png">`
2. import 图片背后的原理是？ // TODO
3. 不能 import public 文件夹下的图片

## 其他

在 template 模板中写`@click="console.log('hello')"`是不会执行的，因为`_ctx`上没有挂载这个方法

## vue

\_ctx.alert is not a function
不能在行内调用 window 对象的属性和方法，包括 alert console.log location.host 等
setup 语法糖中也可以写一些 export 导出一些接口等，然后在其他文件中按需引入 export 的东西：`import EssentialLink, { EssentialLinkProps } from 'components/EssentialLink.vue'`
行内样式不要写注释，注释下的那一行 css 代码可能不生效
i18n 替换字符串不能有@
