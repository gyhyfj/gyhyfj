# extends

extends 关键字在不同场景下代表的含义不一样

1. 表示继承/拓展的含义
   js 中，和 class 一起使用，继承父类的方法和属性
   ts 中，还可以继承/拓展类型和接口
2. 表示约束的含义
   书写泛型的时候，作为对类型参数的约束，`<T extends B>`表示 T 被约束为必须是对 B 的继承/拓展
3. 表示分配的含义
   `<A extends B>`指类型 A 可以分配给类型 B，B 有的类型约束，A 都有

特殊：never 被认为是空的联合类型，是所有类型的子类型

https://blog.csdn.net/qq_34998786/article/details/120300361

extend 用于泛型约束

```ts
function pick<T extends object, U extends keyof T>(obj: T, keys: U[]): T[U][] {
  return keys.map(key => obj[key])
}

// T extends object 表示 T 被限制为对象类型
// U extends keyof T 表示 U 被限制为 T 的键名的字面量联合类型
```

## 索引签名

索引签名用于快速建立一个内部字段类型相同的接口

```ts
interface Foo {
  [keys: string]: string
}
// 类似于 Record<string, string> 但不等同

type X = keyof Foo // type X = string | number // JS 允许同时通过数字与字符串访问对象属性

type Fooo = Record<string, string>

type Y = keyof Fooo // type Y = string
```

## in 操作符

相当于循环遍历

```ts
type A = {
  id: number
  size: number
}

type StringifyA<T> = {
  [K in keyof T]: string
}

type B = StringifyA<A>

// type B = {
//   id: string
//   size: string
// }

// 将接口下的字段全部变为可选的
type Partial<T> = {
  [K in keyof T]?: T[k] // 这里的 ? 的写法
}
```
